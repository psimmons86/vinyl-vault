<%- include('../partials/header.ejs') %>

<div class="container">
    <!-- Collection Header -->
    <div class="collection-header">
        <h1 class="collection-title">My Collection</h1>
        <div class="view-controls">
            <a href="/records?sort=artist" class="<%= currentSort === 'artist' ? 'active' : '' %>">A-Z</a>
            <a href="/records" class="<%= !currentSort ? 'active' : '' %>">Recent</a>
        </div>
    </div>

    <!-- Records Grid -->
    <div class="row">
        <% if (records && records.length > 0) { %>
            <% records.forEach(function(record) { %>
                <div class="col s12 m6 l3">
                    <a href="/records/<%= record._id %>" class="record-card">
                        <div class="record-artwork">
                            <img src="<%= record.imageUrl || '/images/default-album.png' %>" 
                                 alt="Album art for <%= record.title %>"
                                 class="record-img">
                            <div class="record-overlay">
                                <h2 class="record-title"><%= record.title %></h2>
                                <p class="record-artist"><%= record.artist %></p>
                                <p class="record-plays"><%= record.plays %> plays</p>
                            </div>
                        </div>
                    </a>
                </div>
            <% }); %>
        <% } else { %>
            <div class="empty-state center-align">
                <p>No records yet!</p>
                <a href="/records/new" class="btn">Add Your First Record</a>
            </div>
        <% } %>
    </div>

    <!-- Add Record Button -->
    <a href="/records/new" class="add-record-btn">
        <span>+</span>
        Add New Record
    </a>
</div>

<%- include('../partials/footer.ejs') %>