<%- include('../partials/header.ejs') %>

<div class="record-detail-card">
    <img src="<%= record.imageUrl || '/images/default-album.png' %>" 
         alt="Album art for <%= record.title %>"
         class="record-img">
    
    <div class="record-info">
        <h2 class="record-title"><%= record.title %></h2>
        <p class="record-artist"><%= record.artist %></p>
        <p class="record-format"><%= record.format %></p>
        <p class="record-plays">Plays: <%= record.plays %></p>
        
        <% if (record.lastPlayed) { %>
            <p class="record-last-played">Last Played: <%= record.lastPlayed.toLocaleDateString() %></p>
        <% } %>
        
        <% if (record.notes) { %>
            <p class="record-notes">Notes: <%= record.notes %></p>
        <% } %>

        <!-- Highlight: Display record tags -->
        <% if (record.tags && record.tags.length) { %>
            <div class="record-tags">
                <h4>Tags:</h4>
                <% record.tags.forEach(tag => { %>
                    <a href="/records?tag=<%= tag %>" class="tag-link"><%= tag %></a>
                <% }) %>
            </div>
        <% } %>
        <!-- End Highlight -->
        
        <div class="button-group">
            <form action="/records/<%= record._id %>/play" method="POST">
                <button type="submit" class="btn">ðŸŽµ Play</button>
            </form>

            <a href="/records/<%= record._id %>/edit" class="btn">Edit</a>

            <form action="/records/<%= record._id %>?_method=DELETE" method="POST">
                <button type="submit" class="btn btn-delete">Delete</button>
            </form>
        </div>
    </div>
</div>

<a href="/records" class="back-link">Back to Collection</a>

<%- include('../partials/footer.ejs') %>