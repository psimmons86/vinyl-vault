<%- include('../partials/header.ejs') %>

<div class="stats-container">
    <h1><%= profileUser.username %>'s Collection</h1>

    <div class="stats-info">
        <!-- Recently Added Records -->
        <div class="stat-card">
            <h3>Recently Added Records</h3>
            <% if (recentlyAdded.length === 0) { %>
                <p>No records added yet.</p>
            <% } else { %>
                <% recentlyAdded.forEach(record => { %>
                    <div class="record-entry">
                        <div class="record-title">
                            <%= record.title %> by <%= record.artist %>
                        </div>
                        <small class="text-muted">
                            Added <%= record.createdAt.toLocaleDateString() %>
                        </small>
                    </div>
                <% }) %>
            <% } %>
        </div>

        <!-- Recently Played Records -->
        <div class="stat-card">
            <h3>Recently Played Records</h3>
            <% if (recentlyPlayed.length === 0) { %>
                <p>No records played yet.</p>
            <% } else { %>
                <% recentlyPlayed.forEach(record => { %>
                    <div class="record-entry">
                        <div class="record-title">
                            <%= record.title %> by <%= record.artist %>
                        </div>
                        <small class="text-muted">
                            Played <%= record.lastPlayed.toLocaleDateString() %>
                        </small>
                    </div>
                <% }) %>
            <% } %>
        </div>
    </div>
</div>

<%- include('../partials/footer.ejs') %>