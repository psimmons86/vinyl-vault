<%- include('../partials/header.ejs') %>

<div class="container">
    <div class="row">
        <div class="col s12 m8 offset-m2 l6 offset-l3">
            <div class="card">
                <div class="card-content">
                    <span class="card-title center-align">Create Account</span>
                    
                    <% if (error) { %>
                        <div class="card-panel red lighten-4 red-text text-darken-4">
                            <%= error %>
                        </div>
                    <% } %>

                    <form action="/auth/sign-up" method="POST">
                        <div class="input-field">
                            <input type="text" 
                                   id="username" 
                                   name="username" 
                                   value="<%= locals.username || '' %>"
                                   pattern="[a-zA-Z0-9_\-]{3,20}"
                                   maxlength="20"
                                   required>
                            <label for="username">Username</label>
                            <span class="helper-text">3-20 characters, letters, numbers, underscore, hyphen only</span>
                        </div>

                        <div class="input-field">
                            <input type="password" 
                                   id="password" 
                                   name="password"
                                   minlength="8"
                                   maxlength="128"
                                   required>
                            <label for="password">Password</label>
                            <span class="helper-text">
                                Must contain at least:
                                <ul>
                                    <li>8 characters</li>
                                    <li>One uppercase letter</li>
                                    <li>One lowercase letter</li>
                                    <li>One number</li>
                                    <li>One special character (!@#$%^&*)</li>
                                </ul>
                            </span>
                        </div>

                        <div class="input-field">
                            <input type="password" 
                                   id="confirmPassword" 
                                   name="confirmPassword" 
                                   required>
                            <label for="confirmPassword">Confirm Password</label>
                            <span class="helper-text">Re-enter your password</span>
                        </div>

                        <div class="center-align">
                            <button type="submit" class="btn waves-effect waves-light">
                                Create Account
                                <i class="material-icons right">person_add</i>
                            </button>
                        </div>
                    </form>
                </div>
                
                <div class="card-action center-align">
                    <p>Already have an account? <a href="/auth/sign-in">Sign In</a></p>
                </div>
            </div>
        </div>
    </div>
</div>

<%- include('../partials/footer.ejs') %>
